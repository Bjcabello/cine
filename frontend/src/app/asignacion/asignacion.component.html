<div class="container mt-4">
  <div class="display-6 text-center">
    <h2 class="mb-5">Asignar Película a Sala</h2>
  </div>

  <!-- Tabla MOVIDA arriba del formulario -->
  <table class="table table-striped mt-4">
    <thead>
      <tr>
        <th scope="col">Película</th>
        <th scope="col">Sala</th>
        <th scope="col">Fecha Inicio</th>
        <th scope="col">Fecha Fin</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let a of asignaciones">
        <td>{{ a.id_pelicula }}</td>
        <td>{{ a.id_sala_cine }}</td>
        <td>{{ a.fecha_publicacion }}</td>
        <td>{{ a.fecha_fin }}</td>
      </tr>
    </tbody>
  </table>

  <!-- Formulario debajo de la tabla -->
  <form (submit)="asignar()" class="row g-3">
    <div class="col-md-4">
      <select [(ngModel)]="nuevaAsignacion.id_pelicula" name="pelicula" class="form-select" required>
        <option [ngValue]="null" disabled selected>Selecciona Película</option>
        <option *ngFor="let pelicula of peliculas" [value]="pelicula.id_pelicula">
          {{ pelicula.nombre }}
        </option>
      </select>
    </div>
    <div class="col-md-4">
      <select [(ngModel)]="nuevaAsignacion.id_sala_cine" name="sala" class="form-select" required>
        <option [ngValue]="null" disabled selected>Selecciona Sala</option>
        <option *ngFor="let sala of salas" [value]="sala.id_sala">
          {{ sala.nombre }}
        </option>
      </select>
    </div>
    <div class="col-md-2">
      <input type="date" class="form-control" [(ngModel)]="nuevaAsignacion.fecha_publicacion" name="fechaInicio" required>
    </div>
    <div class="col-md-2">
      <input type="date" class="form-control" [(ngModel)]="nuevaAsignacion.fecha_fin" name="fechaFin" required>
    </div>
    <div class="d-grid">
      <button class="btn btn-success w-100" type="submit">Asignar</button>
    </div>
  </form>
</div>
